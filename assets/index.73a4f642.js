var p=Object.defineProperty;var d=(s,e,o)=>e in s?p(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;var l=(s,e,o)=>(d(s,typeof e!="symbol"?e+"":e,o),o);const m=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}};m();function h(s){return .5*Math.cos(2*Math.PI*s)+.5}function g(s){return .5*Math.cos(2*Math.PI*s)}function y(s){return-.1*Math.sin(2*Math.PI*s)}class M{constructor(){l(this,"collection",[new u(150,0),new u(300,.25)])}step(){t.clearRect(0,0,c.width,c.height),this.collection[0].step(this.collection[1].p-this.collection[0].p),this.collection[1].step(this.collection[0].p-this.collection[1].p)}}class u{constructor(e,o){l(this,"p",0);l(this,"r",.5);l(this,"omega",2);l(this,"x",150);l(this,"dt",.01);this.x=e,this.p=o,this.r=(o+.5)%1}update(e){this.p=(this.dt*(this.omega+y(e))+this.p)%1,this.r=(this.p+.5)%1}animate(){t.strokeStyle="black",t.lineWidth=1;let e=h(this.p),o=h(this.r);t.fillStyle=`rgba(0,255,0,${e})`,t.beginPath(),t.ellipse(this.x,100,50,50,0,-Math.PI,Math.PI),t.stroke(),t.fill(),t.fillStyle=`rgba(0,255,0,${o})`,t.beginPath(),t.ellipse(this.x,225,50,50,0,-Math.PI,Math.PI),t.stroke(),t.fill(),t.translate(this.x,300),t.rotate(g(this.p)),t.translate(-this.x,-300),t.fillStyle="red",t.fillRect(this.x-5,300,10,140),t.setTransform(1,0,0,1,0,0),t.stroke()}step(e){this.update(e),this.animate()}}const c=document.getElementById("canvas"),t=c.getContext("2d");let P=new M;function f(){P.step(),setTimeout(f,25)}f();
